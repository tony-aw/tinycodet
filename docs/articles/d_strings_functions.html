<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tinycodet">
<title>String related functions • tinycodet</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="String related functions">
<meta property="og:description" content="tinycodet">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tinycodet</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.9</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/tinycodet.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/a_safer.html">Safer functionality</a>
    <a class="dropdown-item" href="../articles/b_import_main.html">Import system - main functions</a>
    <a class="dropdown-item" href="../articles/c_import_additional.html">Import system - additional details</a>
    <a class="dropdown-item" href="../articles/d_strings_functions.html">String related functions</a>
    <a class="dropdown-item" href="../articles/e_strings_inops.html">String related infix operators</a>
    <a class="dropdown-item" href="../articles/f_DRY.html">Don't Repeat Yourself</a>
    <a class="dropdown-item" href="../articles/g_misc.html">Miscellaneous functionality</a>
    <a class="dropdown-item" href="../articles/h_otherpkgs.html">Relations to other packages</a>
    <a class="dropdown-item" href="../articles/i_benchmarks.html">Benchmarks</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tony-aw/tinycodet/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>String related functions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tony-aw/tinycodet/blob/HEAD/../vignettes/articles/d_strings_functions.Rmd" class="external-link"><code>../vignettes/articles/d_strings_functions.Rmd</code></a></small>
      <div class="d-none name"><code>d_strings_functions.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tony-aw/tinycodet/" class="external-link">tinycodet</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Run `?tinycodet::tinycodet` to open the introduction help page of 'tinycodet'.</span></span></code></pre></div>
<p> </p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Virtually every programming language, even those primarily focused on
mathematics, will at some point have to deal with strings. R’s atomic
classes basically boil down to some form of either numbers or
characters. R’s numerical functions are generally very fast. But R’s
native string functions are somewhat slow, do not have a unified naming
scheme, and are not as comprehensive as R’s impressive numerical
functions.</p>
<p>The primary R-package that fixes this is ‘stringi’. ‘stringi’ is the
fastest and most comprehensive string manipulation package available at
the time of writing. Many string related packages fully depend on
‘stringi’. The ‘stringr’ package, for example, is merely a thin wrapper
around ‘stringi’.</p>
<p>The ‘tinycodet’ package adds a bit more functionality to the
‘stringi’ string manipulation capabilities.</p>
<p> </p>
</div>
<div class="section level2">
<h2 id="stri_locate_ith">stri_locate_ith<a class="anchor" aria-label="anchor" href="#stri_locate_ith"></a>
</h2>
<p>Suppose one wants to transform the <strong>first</strong> vowels in
the strings of a character vector <code>str</code>, such that all upper
case vowels become lower case, and vice-versa. One can do that
completely in <code>stringi</code> + base R as follows:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HELLO WORLD"</span>, <span class="st">"goodbye world"</span><span class="op">)</span></span>
<span><span class="va">loc</span> <span class="op">&lt;-</span> <span class="fu">stringi</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/stringi/man/stri_locate.html" class="external-link">stri_locate_first</a></span><span class="op">(</span><span class="va">x</span>, regex<span class="op">=</span><span class="st">"a|e|i|o|u"</span>, case_insensitive<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">extr</span> <span class="op">&lt;-</span> <span class="fu">stringi</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/stringi/man/stri_sub.html" class="external-link">stri_sub</a></span><span class="op">(</span><span class="va">x</span>, from<span class="op">=</span><span class="va">loc</span><span class="op">)</span></span>
<span><span class="va">repl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">chartr</a></span><span class="op">(</span><span class="va">extr</span>, old <span class="op">=</span> <span class="st">"a-zA-Z"</span>, new <span class="op">=</span> <span class="st">"A-Za-z"</span><span class="op">)</span></span>
<span><span class="fu">stringi</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/stringi/man/stri_sub.html" class="external-link">stri_sub_replace</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">loc</span>, replacement<span class="op">=</span><span class="va">repl</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "HeLLO WORLD"   "gOodbye world"</span></span></code></pre></div>
<p>But now suppose one wants to transform the
<strong>second-last</strong> vowel. How are you going to do that? It’s
not impossible, but also not super straight-forward. For clear code,
<code>stringi</code> really needs some kind of “stri_locate_ith”
function. And, of course, the <code>tinycodet</code> package provides
just that.</p>
<p>The <code>stri_locate_ith(str, i, ...)</code> function locates for
every element/string in character vector <code>str</code>, the <span class="math inline">\(i^\textrm{th}\)</span> occurrence of some
(regex/fixed/etc) pattern. When <code>i</code> is positive, the
occurrence is counted from left to right. Negative values for
<code>i</code> are also allowed, in which case the occurrence is counted
from the right to left. But <code>i=0</code> is not allowed though.
Thus, to get the <strong>second</strong> occurrence of some pattern, use
<code>i=2</code>, and to get the <strong>second-last</strong>
occurrence, use <code>i=-2</code>.</p>
<p>The <code>stri_locate_ith(str, i, ...)</code> function uses the exact
same argument and naming convention as <code>stringi</code>, to keep
your code consistent. And just like
<code>stringi::stri_locate_first/last</code>, the
<code>stri_locate_ith(str, i, ...)</code> function is a vectorized
function: <code>str</code> and <code>i</code> as well as the pattern
(<code>regex, fixed, coll, charclass</code>) can all be different-valued
vectors.</p>
<p> </p>
<p>To transform the <strong>second-last</strong> occurrence, one can now
use <code><a href="../reference/stri_locate_ith.html">stri_locate_ith()</a></code> in a very similar way as was done
with <code>stri_locate_first/last</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HELLO WORLD"</span>, <span class="st">"goodbye world"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">loc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/stri_locate_ith.html">stri_locate_ith</a></span><span class="op">(</span> <span class="co"># this part is the key-difference</span></span>
<span>  <span class="va">x</span>, <span class="op">-</span><span class="fl">2</span>, regex<span class="op">=</span><span class="st">"a|e|i|o|u"</span>, case_insensitive<span class="op">=</span><span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">extr</span> <span class="op">&lt;-</span> <span class="fu">stringi</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/stringi/man/stri_sub.html" class="external-link">stri_sub</a></span><span class="op">(</span><span class="va">x</span>, from<span class="op">=</span><span class="va">loc</span><span class="op">)</span></span>
<span><span class="va">repl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">chartr</a></span><span class="op">(</span><span class="va">extr</span>, old <span class="op">=</span> <span class="st">"a-zA-Z"</span>, new <span class="op">=</span> <span class="st">"A-Za-z"</span><span class="op">)</span></span>
<span><span class="fu">stringi</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/stringi/man/stri_sub.html" class="external-link">stri_sub_replace</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">loc</span>, replacement<span class="op">=</span><span class="va">repl</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "HELLo WORLD"   "goodbyE world"</span></span></code></pre></div>
<p>Notice that the code is virtually equivalent. We <em>only</em> need
to change the locate function.</p>
<p> </p>
<p>There is also the <code><a href="../reference/stri_locate_ith.html">stri_locate_ith_boundaries()</a></code> function,
which of course locates the <span class="math inline">\(i^\textrm{th}\)</span> text boundary.</p>
<p> </p>
</div>
<div class="section level2">
<h2 id="strcut_---functions">strcut_ - functions<a class="anchor" aria-label="anchor" href="#strcut_---functions"></a>
</h2>
<p>The <code>tinycodet</code> R package adds 2 <code>strcut</code>
functions: <code><a href="../reference/strcut.html">strcut_loc()</a></code> and <code><a href="../reference/strcut.html">strcut_brk()</a></code>.</p>
<p>The <code><a href="../reference/strcut.html">strcut_loc()</a></code>function cuts every string in a
character vector around a location range <code>loc</code>, such that
every string is cut into the following parts:</p>
<ul>
<li>the sub-string <strong>before</strong> <code>loc</code>;</li>
<li>the sub-string at <code>loc</code> itself;</li>
<li>the sub-string <strong>after</strong> <code>loc</code>.</li>
</ul>
<p>The location range <code>loc</code> would usually be matrix with 2
columns, giving the start and end points of some pattern match.</p>
<p>The <code><a href="../reference/strcut.html">strcut_brk()</a></code> function is basically a wrapper around
<code>stringi::stri_split_boundaries(..., simplify=NA)</code>, and with
some more conveniently named arguments.</p>
<p>Examples:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, collapse<span class="op">=</span><span class="st">""</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "12345678910" "12345678910" "12345678910" "12345678910" "12345678910"</span></span>
<span><span class="co">#&gt;  [6] "12345678910" "12345678910" "12345678910" "12345678910" "12345678910"</span></span>
<span><span class="va">loc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/stri_locate_ith.html">stri_locate_ith</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, fixed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/strcut.html">strcut_loc</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">loc</span><span class="op">)</span></span>
<span><span class="co">#&gt;       prepart     mainpart postpart    </span></span>
<span><span class="co">#&gt;  [1,] ""          "1"      "2345678910"</span></span>
<span><span class="co">#&gt;  [2,] "1"         "2"      "345678910" </span></span>
<span><span class="co">#&gt;  [3,] "12"        "3"      "45678910"  </span></span>
<span><span class="co">#&gt;  [4,] "123"       "4"      "5678910"   </span></span>
<span><span class="co">#&gt;  [5,] "1234"      "5"      "678910"    </span></span>
<span><span class="co">#&gt;  [6,] "12345"     "6"      "78910"     </span></span>
<span><span class="co">#&gt;  [7,] "123456"    "7"      "8910"      </span></span>
<span><span class="co">#&gt;  [8,] "1234567"   "8"      "910"       </span></span>
<span><span class="co">#&gt;  [9,] "12345678"  "9"      "10"        </span></span>
<span><span class="co">#&gt; [10,] "123456789" "10"     ""</span></span>
<span><span class="fu"><a href="../reference/strcut.html">strcut_loc</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;       prepart mainpart postpart</span></span>
<span><span class="co">#&gt;  [1,] "1234"  "5"      "678910"</span></span>
<span><span class="co">#&gt;  [2,] "1234"  "5"      "678910"</span></span>
<span><span class="co">#&gt;  [3,] "1234"  "5"      "678910"</span></span>
<span><span class="co">#&gt;  [4,] "1234"  "5"      "678910"</span></span>
<span><span class="co">#&gt;  [5,] "1234"  "5"      "678910"</span></span>
<span><span class="co">#&gt;  [6,] "1234"  "5"      "678910"</span></span>
<span><span class="co">#&gt;  [7,] "1234"  "5"      "678910"</span></span>
<span><span class="co">#&gt;  [8,] "1234"  "5"      "678910"</span></span>
<span><span class="co">#&gt;  [9,] "1234"  "5"      "678910"</span></span>
<span><span class="co">#&gt; [10,] "1234"  "5"      "678910"</span></span>
<span></span>
<span></span>
<span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"The above-mentioned    features are very useful. "</span>,</span>
<span><span class="st">"Spam, spam, eggs, bacon, and spam. 123 456 789"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/strcut.html">strcut_brk</a></span><span class="op">(</span><span class="va">test</span>, <span class="st">"line"</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]     [,2]     [,3]            [,4]        [,5]   [,6]     [,7]      </span></span>
<span><span class="co">#&gt; [1,] "The "   "above-" "mentioned    " "features " "are " "very "  "useful. "</span></span>
<span><span class="co">#&gt; [2,] "Spam, " "spam, " "eggs, "        "bacon, "   "and " "spam. " "123 "    </span></span>
<span><span class="co">#&gt;      [,8]   [,9] </span></span>
<span><span class="co">#&gt; [1,] NA     NA   </span></span>
<span><span class="co">#&gt; [2,] "456 " "789"</span></span>
<span><span class="fu"><a href="../reference/strcut.html">strcut_brk</a></span><span class="op">(</span><span class="va">test</span>, <span class="st">"word"</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]   [,2] [,3]    [,4]   [,5]        [,6]   [,7]       [,8] [,9] </span></span>
<span><span class="co">#&gt; [1,] "The"  " "  "above" "-"    "mentioned" "    " "features" " "  "are"</span></span>
<span><span class="co">#&gt; [2,] "Spam" ","  " "     "spam" ","         " "    "eggs"     ","  " "  </span></span>
<span><span class="co">#&gt;      [,10]   [,11]  [,12] [,13]    [,14] [,15]  [,16] [,17] [,18] [,19] [,20]</span></span>
<span><span class="co">#&gt; [1,] " "     "very" " "   "useful" "."   " "    NA    NA    NA    NA    NA   </span></span>
<span><span class="co">#&gt; [2,] "bacon" ","    " "   "and"    " "   "spam" "."   " "   "123" " "   "456"</span></span>
<span><span class="co">#&gt;      [,21] [,22]</span></span>
<span><span class="co">#&gt; [1,] NA    NA   </span></span>
<span><span class="co">#&gt; [2,] " "   "789"</span></span>
<span><span class="fu"><a href="../reference/strcut.html">strcut_brk</a></span><span class="op">(</span><span class="va">test</span>, <span class="st">"sentence"</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]                                                [,2]         </span></span>
<span><span class="co">#&gt; [1,] "The above-mentioned    features are very useful. " NA           </span></span>
<span><span class="co">#&gt; [2,] "Spam, spam, eggs, bacon, and spam. "               "123 456 789"</span></span>
<span><span class="fu"><a href="../reference/strcut.html">strcut_brk</a></span><span class="op">(</span><span class="va">test</span>, <span class="st">"character"</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13] [,14]</span></span>
<span><span class="co">#&gt; [1,] "T"  "h"  "e"  " "  "a"  "b"  "o"  "v"  "e"  "-"   "m"   "e"   "n"   "t"  </span></span>
<span><span class="co">#&gt; [2,] "S"  "p"  "a"  "m"  ","  " "  "s"  "p"  "a"  "m"   ","   " "   "e"   "g"  </span></span>
<span><span class="co">#&gt;      [,15] [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24] [,25] [,26]</span></span>
<span><span class="co">#&gt; [1,] "i"   "o"   "n"   "e"   "d"   " "   " "   " "   " "   "f"   "e"   "a"  </span></span>
<span><span class="co">#&gt; [2,] "g"   "s"   ","   " "   "b"   "a"   "c"   "o"   "n"   ","   " "   "a"  </span></span>
<span><span class="co">#&gt;      [,27] [,28] [,29] [,30] [,31] [,32] [,33] [,34] [,35] [,36] [,37] [,38]</span></span>
<span><span class="co">#&gt; [1,] "t"   "u"   "r"   "e"   "s"   " "   "a"   "r"   "e"   " "   "v"   "e"  </span></span>
<span><span class="co">#&gt; [2,] "n"   "d"   " "   "s"   "p"   "a"   "m"   "."   " "   "1"   "2"   "3"  </span></span>
<span><span class="co">#&gt;      [,39] [,40] [,41] [,42] [,43] [,44] [,45] [,46] [,47] [,48] [,49]</span></span>
<span><span class="co">#&gt; [1,] "r"   "y"   " "   "u"   "s"   "e"   "f"   "u"   "l"   "."   " "  </span></span>
<span><span class="co">#&gt; [2,] " "   "4"   "5"   "6"   " "   "7"   "8"   "9"   NA    NA    NA</span></span></code></pre></div>
<p> </p>
</div>
<div class="section level2">
<h2 id="matrix-re-ordering-operators">Matrix re-ordering operators<a class="anchor" aria-label="anchor" href="#matrix-re-ordering-operators"></a>
</h2>
<p>The matrix re-ordering operators are quite handy for re-ordering
strings, since the <code>strcut_</code> - functions return matrices, and
the <code><a href="../reference/stri_join_mat.html">stri_join_mat()</a></code> and their aliases concatenate
matrices.</p>
<p>See the documentation on matrix operators: <code><a href="../reference/matrix_ops.html">?`%row~%`</a></code> and
<code><a href="../reference/matrix_ops.html">?`%col~%`</a></code></p>
<p>See also the “Miscellaneous functionality” article.</p>
<p> </p>
</div>
<div class="section level2">
<h2 id="matrix-joining">Matrix joining<a class="anchor" aria-label="anchor" href="#matrix-joining"></a>
</h2>
<p>The <code>tinycodet</code> package adds a tiny additional function to
<code>stringi</code>:</p>
<p><code>stri_join_mat</code> (and their aliases <code>stri_c_mat</code>
and <code>stri_paste_mat</code>).</p>
<p>As the name suggests, these functions perform row-wise
(<code>margin=1</code>; the default) or column-wise
(<code>margin=2</code>) joining of a matrix of strings, thereby
transforming it to a vector of strings. You can do this already in base
R, but it requires converting the matrix to a data.frame or list, and
then calling <code>stri_join</code> inside <code><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call()</a></code>, which
to me just seems too much trouble for something <em>soooo</em> abysmally
simple.</p>
<p>Here is an example of their usage when re-ordering strings, words, or
sentences :</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># sorting characters in strings:</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "kpdnfaqrilyjexhtugwbmzcosv" "dgqfntklwbrcseaijphuozxmyv"</span></span>
<span><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/strcut.html">strcut_brk</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="va">rank</span> <span class="op">&lt;-</span> <span class="fu">stringi</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/stringi/man/stri_rank.html" class="external-link">stri_rank</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span>  <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>ncol<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sorted</span> <span class="op">&lt;-</span> <span class="va">mat</span> <span class="op"><a href="../reference/matrix_ops.html">%row~%</a></span> <span class="va">rank</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">sorted</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13] [,14]</span></span>
<span><span class="co">#&gt; [1,] "a"  "b"  "c"  "d"  "e"  "f"  "g"  "h"  "i"  "j"   "k"   "l"   "m"   "n"  </span></span>
<span><span class="co">#&gt; [2,] "a"  "b"  "c"  "d"  "e"  "f"  "g"  "h"  "i"  "j"   "k"   "l"   "m"   "n"  </span></span>
<span><span class="co">#&gt;      [,15] [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24] [,25] [,26]</span></span>
<span><span class="co">#&gt; [1,] "o"   "p"   "q"   "r"   "s"   "t"   "u"   "v"   "w"   "x"   "y"   "z"  </span></span>
<span><span class="co">#&gt; [2,] "o"   "p"   "q"   "r"   "s"   "t"   "u"   "v"   "w"   "x"   "y"   "z"</span></span>
<span><span class="fu"><a href="../reference/stri_join_mat.html">stri_join_mat</a></span><span class="op">(</span><span class="va">sorted</span>, margin<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "abcdefghijklmnopqrstuvwxyz" "abcdefghijklmnopqrstuvwxyz"</span></span>
<span><span class="fu"><a href="../reference/stri_join_mat.html">stri_join_mat</a></span><span class="op">(</span><span class="va">sorted</span>, margin<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "aa" "bb" "cc" "dd" "ee" "ff" "gg" "hh" "ii" "jj" "kk" "ll" "mm" "nn" "oo"</span></span>
<span><span class="co">#&gt; [16] "pp" "qq" "rr" "ss" "tt" "uu" "vv" "ww" "xx" "yy" "zz"</span></span>
<span></span>
<span><span class="co"># sorting words:</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2nd 3rd 1st"</span>, <span class="st">"Goodbye everyone"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2nd 3rd 1st"      "Goodbye everyone"</span></span>
<span><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/strcut.html">strcut_brk</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"word"</span><span class="op">)</span></span>
<span><span class="va">rank</span> <span class="op">&lt;-</span> <span class="fu">stringi</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/stringi/man/stri_rank.html" class="external-link">stri_rank</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>ncol<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sorted</span> <span class="op">&lt;-</span> <span class="va">mat</span> <span class="op"><a href="../reference/matrix_ops.html">%row~%</a></span> <span class="va">rank</span></span>
<span><span class="va">sorted</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">sorted</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">""</span></span>
<span><span class="fu"><a href="../reference/stri_join_mat.html">stri_c_mat</a></span><span class="op">(</span><span class="va">sorted</span>, margin<span class="op">=</span><span class="fl">1</span>, sep <span class="op">=</span> <span class="st">" "</span><span class="op">)</span> <span class="co"># &lt;- alias for stri_join_mat</span></span>
<span><span class="co">#&gt; [1] "    1st 2nd 3rd"      "  everyone Goodbye  "</span></span>
<span><span class="fu"><a href="../reference/stri_join_mat.html">stri_c_mat</a></span><span class="op">(</span><span class="va">sorted</span>, margin<span class="op">=</span><span class="fl">2</span>, sep <span class="op">=</span> <span class="st">" "</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "   "         "  everyone"  "1st Goodbye" "2nd "        "3rd "</span></span>
<span></span>
<span><span class="co"># randomly shuffle sentences:</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Hello, who are you? Oh, really?! Cool!"</span>, <span class="st">"I don't care. But I really don't."</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Hello, who are you? Oh, really?! Cool!"</span></span>
<span><span class="co">#&gt; [2] "I don't care. But I really don't."</span></span>
<span><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/strcut.html">strcut_brk</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"sentence"</span><span class="op">)</span></span>
<span><span class="va">rank</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>ncol <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sorted</span> <span class="op">&lt;-</span> <span class="va">mat</span> <span class="op"><a href="../reference/matrix_ops.html">%row~%</a></span> <span class="va">rank</span></span>
<span><span class="va">sorted</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">sorted</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">""</span></span>
<span><span class="fu"><a href="../reference/stri_join_mat.html">stri_paste_mat</a></span><span class="op">(</span><span class="va">sorted</span>, margin<span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="co"># &lt;- another alias for stri_join_mat</span></span>
<span><span class="co">#&gt; [1] "Hello, who are you? Oh, really?! Cool!"</span></span>
<span><span class="co">#&gt; [2] "I don't care. But I really don't."</span></span>
<span><span class="fu"><a href="../reference/stri_join_mat.html">stri_paste_mat</a></span><span class="op">(</span><span class="va">sorted</span>, margin<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Hello, who are you? "        "Oh, really?! I don't care. "</span></span>
<span><span class="co">#&gt; [3] "Cool!But I really don't."</span></span></code></pre></div>
<p> </p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Tony Wilkes.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
